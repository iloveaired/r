library(ggplot2)
str(mpg)
print x
x <- c("3 3 4 3 5 3 6 3 7 3 8 3 9 3 10 3 11 3 12 3 14 3 17 4 21 5 25 6 29 6 33 6 36 7 38 7 40 8 41 8 44 8 49 8 56 8 64 8 70 8 75 8 79 8 82 8 85 8 86 8 87 8 88 8 89 8 90 8 91 8 92 8 94 8 95 8 96 7 98 6 99 6 100 6 101 6 102 6 104 6 105 6 106 6 107 6 108 6 109 6 110 6 111 6 112 6 113 6 114 6 115 6 116 6 117 6 118 6 119 6 120 6 121 6 122 6 123 6 124 6 125 6 126 6 127 5 129 4 130 4 131 4")
print x
x
m<-matrix(x , 2,2)
m
x <- as.charactor(x)
x <- as.character(x)
x
strsplit(x)
strsplit(x, " ")
x <- c("3 3 4 3 5 3 6 3 7 3 8 3 9 3 10 3 11 3 12 3 14 3 17 4 21 5 25 6 29 6 33 6 36 7 38 7 40 8 41 8 44 8 49 8 56 8 64 8 70 8 75 8 79 8 82 8 85 8 86 8 87 8 88 8 89 8 90 8 91 8 92 8 94 8 95 8 96 7 98 6 99 6 100 6 101 6 102 6 104 6 105 6 106 6 107 6 108 6 109 6 110 6 111 6 112 6 113 6 114 6 115 6 116 6 117 6 118 6 119 6 120 6 121 6 122 6 123 6 124 6 125 6 126 6 127 5 129 4 130 4 131 4")
x <- strsplit(x, " ")
m<-matrix(x[[1]] , 2,2)
m
m<-matrix(x[[1]] )
m
m<-matrix(x[[1]], nrow=2, ncol=2 )
m
x <- c("3 3 4 3 5 3 6 3 7 3 8 3 9 3 10 3 11 3 12 3 14 3 17 4 21 5 25 6 29 6 33 6 36 7 38 7 40 8 41 8 44 8 49 8 56 8 64 8 70 8 75 8 79 8 82 8 85 8 86 8 87 8 88 8 89 8 90 8 91 8 92 8 94 8 95 8 96 7 98 6 99 6 100 6 101 6 102 6 104 6 105 6 106 6 107 6 108 6 109 6 110 6 111 6 112 6 113 6 114 6 115 6 116 6 117 6 118 6 119 6 120 6 121 6 122 6 123 6 124 6 125 6 126 6 127 5 129 4 130 4 131 4")
x <- strsplit(x, " ")
m<-matrix(x[[1]], nrow=2, ncol=2 )
m
m<-matrix(x[[1]], nrow=2, ncol=2 )
m<-matrix(x[[1]])
m
x <- c("6 128 7 128 8 128 9 128 10 128 11 128 11 127 12 127 14 127 15 127 17 127 19 127 22 127 25 127 27 127 29 127 30 127 31 127 32 127 33 127 35 127 42 127 49 127 55 127 61 127 69 127 76 127 82 127 86 127 89 127 91 127 92 127 97 127 107 127 116 127 125 127 ")
x <- strsplit(x, " ")
#m<-matrix(x[[1]], nrow=2, ncol=2 )
m<-matrix(x[[1]])
m
x[[1]]
histogram(x[[1]])
histogram(as.number(x[[1]])
#m<-matrix(x[[1]], nrow=2, ncol=2 )
histogram(as.number(x[[1]]))
histogram(as.number(x[[1]]))
x<-x[[1]]
histogram(as.numeric(x[[1]]))
x <- strsplit(x, " ")
x <- as.numeric(x[[1]]
x <- strsplit(x, " ")
x <- as.numeric(x[[1]])
x <- strsplit(x, " ")
x <- c("3 3 4 3 5 3 6 3 7 3 8 3 9 3 10 3 11 3 12 3 14 3 17 4 21 5 25 6 29 6 33 6 36 7 38 7 40 8 41 8 44 8 49 8 56 8 64 8 70 8 75 8 79 8 82 8 85 8 86 8 87 8 88 8 89 8 90 8 91 8 92 8 94 8 95 8 96 7 98 6 99 6 100 6 101 6 102 6 104 6 105 6 106 6 107 6 108 6 109 6 110 6 111 6 112 6 113 6 114 6 115 6 116 6 117 6 118 6 119 6 120 6 121 6 122 6 123 6 124 6 125 6 126 6 127 5 129 4 130 4 131 4")
x <- c("6 128 7 128 8 128 9 128 10 128 11 128 11 127 12 127 14 127 15 127 17 127 19 127 22 127 25 127 27 127 29 127 30 127 31 127 32 127 33 127 35 127 42 127 49 127 55 127 61 127 69 127 76 127 82 127 86 127 89 127 91 127 92 127 97 127 107 127 116 127 125 127 ")
x <- strsplit(x, " ")
x[[1]]
x <- as.numeric(x[[1]])
x
histogram(as.numeric(x[[1]]))
x <- c("6 128 7 128 8 128 9 128 10 128 11 128 11 127 12 127 14 127 15 127 17 127 19 127 22 127 25 127 27 127 29 127 30 127 31 127 32 127 33 127 35 127 42 127 49 127 55 127 61 127 69 127 76 127 82 127 86 127 89 127 91 127 92 127 97 127 107 127 116 127 125 127 ")
x <- strsplit(x, " ")
histogram(as.numeric(x[[1]]))
summary(x)
x <- c("3 3 4 3 5 3 6 3 7 3 8 3 9 3 10 3 11 3 12 3 14 3 17 4 21 5 25 6 29 6 33 6 36 7 38 7 40 8 41 8 44 8 49 8 56 8 64 8 70 8 75 8 79 8 82 8 85 8 86 8 87 8 88 8 89 8 90 8 91 8 92 8 94 8 95 8 96 7 98 6 99 6 100 6 101 6 102 6 104 6 105 6 106 6 107 6 108 6 109 6 110 6 111 6 112 6 113 6 114 6 115 6 116 6 117 6 118 6 119 6 120 6 121 6 122 6 123 6 124 6 125 6 126 6 127 5 129 4 130 4 131 4")
x <- strsplit(x, " ")
histogram(as.numeric(x[[1]]))
x <- c("3 3 4 3 5 3 6 3 7 3 8 3 9 3 10 3 11 3 12 3 14 3 17 4 21 5 25 6 29 6 33 6 36 7 38 7 40 8 41 8 44 8 49 8 56 8 64 8 70 8 75 8 79 8 82 8 85 8 86 8 87 8 88 8 89 8 90 8 91 8 92 8 94 8 95 8 96 7 98 6 99 6 100 6 101 6 102 6 104 6 105 6 106 6 107 6 108 6 109 6 110 6 111 6 112 6 113 6 114 6 115 6 116 6 117 6 118 6 119 6 120 6 121 6 122 6 123 6 124 6 125 6 126 6 127 5 129 4 130 4 131 4")
x <- strsplit(x, " ")
x<-as.numeric(x[[1]]);
histogram(x);
summary(x)
x <- c("6 128 7 128 8 128 9 128 10 128 11 128 11 127 12 127 14 127 15 127 17 127 19 127 22 127 25 127 27 127 29 127 30 127 31 127 32 127 33 127 35 127 42 127 49 127 55 127 61 127 69 127 76 127 82 127 86 127 89 127 91 127 92 127 97 127 107 127 116 127 125 127 ")
x <- strsplit(x, " ")
x<-as.numeric(x[[1]]);
histogram(x);
summary(x)
df <- data.frame(x = rnorm(5000), y = rnorm(5000))
df
library(ggplot2)
h <- ggplot(df, aes(x,y))
h + geom_point(alpha = 0.5)
h + geom_point(alpha = 1/10)
access_log<-read.csv("http://repo.uway.com/~aired/access.log",sep=" " , header=F)
s = sapply(access_log[,9], function(x) { str_split(x, "\\?")[[1]][1]})
dtt = data.table(count(data.table(s),c("s")))
require("data.table")
s = sapply(access_log[,9], function(x) { str_split(x, "\\?")[[1]][1]})
dtt = data.table(count(data.table(s),c("s")))
require("stringr")
s = sapply(access_log[,9], function(x) { str_split(x, "\\?")[[1]][1]})
dtt = data.table(count(data.table(s),c("s")))
require("plgr")
require("plyr")
s = sapply(access_log[,9], function(x) { str_split(x, "\\?")[[1]][1]})
dtt = data.table(count(data.table(s),c("s")))
setkey(dtt, freq)
dtt
n =10000
sample.code = data[1:n,]$V7
sample.size  = as.integer(paste(data[1:n,]$V8))
dt = data.table(sample.code, s = sample.size)
colnames(dt)
plot(dt[,s])
count(dt,c("sample.code"))
dt1 = dt[,sample.code]
dt1[,sum(sample.code)]
ddply(data,~group,summarise,mean=mean(age),sd=sd(age))
ts = substr(data$V4, 14,17)
t = table(ts)
plot(t)
data<-read.csv("http://repo.uway.com/~aired/access.log",sep=" " , header=F)
ts = substr(data$V4, 14,17)
t = table(ts)
plot(t)
ts = substr(data[1:100,]$V4, 14,18)
t = table(ts)
plot(t)
View(environmental)
data<-read.csv("http://repo.uway.com/~aired/access.log",sep=" " , header=F)
ts = substr(data[1:100,]$V4, 14,18)
t = table(ts)
plot(t)
t
ts = substr(data$V4, 14,18)
t = table(ts)
plot(t)
t
ts = substr(data$V4, 14,17)
t = table(ts)
plot(t)
plot(table(substr(data$V4, 14,17)))
plot(table(substr(data$V4, 14,16)))
access_log$V1
count(access_log$V1, $V1)
count(access_log$V1, "V1")
count(access_log, "V1")
dt = data.table(count(access_log, "V1"))
setkey(dt, freq)
dt
dt = dt[which(freq > 30)]
setkey(dt, freq)
dt
dt = data.table(count(access_log, "V1"))
setkey(dt, freq)
dt
dt = dt[which(freq > 30)] # 30접속보다 큰것만
setkey(dt, freq)
dt
dt = dt[which(freq > 10)] # 30접속보다 큰것만
setkey(dt, freq)
dt
dt = data.table(count(access_log, "V1"))
setkey(dt, freq)
dt
dt = dt[which(freq > 1)] # 30접속보다 큰것만
setkey(dt, freq)
dt
dt = data.table(count(access_log, "V1"))
setkey(dt, freq)
dt
count(dt, "freq")
plot(count(dt, "freq"))
data.table(a = seq(1:10), b = seq(1:10))
seq(0,1, length.out =11)
data.table(a = seq(1,10), b = seq(1:10))
data.table(a = seq(1,5) + seq(1,5), b = seq(1:10))
data.table(a = seq(1,5) + seq(1,5) + seq(1,5), b = seq(1:10) + seq(1:10))
data.table(a = seq(1,5) + seq(1,5), b = seq(1:10))
dt = data.table(a = seq(1,5) + seq(1,5), b = seq(1:10))
dt
count(dt, a)
count(dt, "a")
count(dt, c("a"))
count(dt, c("a", "b"))
access_log[,7]
count(access_log[,7],"V7")
count(access_log,"V7")
count(access_log,"V7")
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(access_log)
View(access_log)
count(access_log,"V6")
count(access_log,"V6")
access_log$V6
access_log[1:10,6]
View(access_log)
View(access_log)
count(access_log,"V6")
v = access_log[1:10,6]
v
s = sapply(v, function(x) { str_split(x, " ")[[1]][1]})
s
s = sapply(v, function(x) { str_split(x, " ")[[1]][2]})
s
v = access_log[1:10,6]
s = sapply(v, function(x) {
tmp = str_split(x, " ")[[1]][2]
str_split(tmp, "\\?")[[1]][1]
})
s
path = sapply(v, function(x) {
tmp = str_split(x, " ")[[1]][2]
str_split(tmp, "\\?")[[1]][1]
})
path
ext = sapply(v, function(x) {
tmp = str_split(x, " ")[[1]][2]
tmp2 = str_split(tmp, "\\?")[[1]][1]
str_split(tmp2, ".")[[1]][2]
})
ext
ext = sapply(v, function(x) {
tmp = str_split(x, " ")[[1]][2]
tmp2 = str_split(tmp, "\\?")[[1]][1]
str_split(tmp2, "\\.")[[1]][2]
})
ext
require("myfunc.R")
include("myfunc.R")
include(myfunc.R)
my_path(v)
include(myfunc.R)
setwd("D:\\data\\project\\r\\uway\\강남대분석")
include(myfunc.R)
include(myfunc.R)
require(myfunc.R)
require(myfunc)
require("myfunc")
my_path <- function (v){
sapply(v, function(x) {
tmp = str_split(x, " ")[[1]][2]
str_split(tmp, "\\?")[[1]][1]
})
}
my_path(v)
my_path(v)
my_ext <- function(v) {
sapply(v, function(x) {
tmp = str_split(x, " ")[[1]][2]
tmp2 = str_split(tmp, "\\?")[[1]][1]
str_split(tmp2, "\\.")[[1]][2]
})
}
my_ext(v)
my_ext(access_log[,6])
table(my_ext(v))
table(my_ext(access_log[,6]))
plot(table(my_ext(access_log[,6])))
v = access_log[1:100,6]
v
url = "http://repo.uway.com/~aired/log/1120_mod100"
access_log<-read.csv(url,sep=" " , header=F)
count(access_log,"V7")
access_log[which( $V7 == "200")]
access_log[which( V7 == "200")]
which(access_log, "V7" == "200")
access_log[which(V7 == "200")]
dt = data.table(access_log)
dt[which(V7 == "200")]
dt[which(V7 == "200")]
dt = data.table(access_log)
dt = dt[which(V7 == "200")]
dt = data.table(access_log)
dt = dt[which(V7 == "200")]
View(dt)
View(dt)
dt[,c("V7")]
dt$V7
dt$V6
my_ext(dt[,6])
dt[,6]
my_ext(dt$V6)
table(my_ext(dt$V6))
dt = dt[which(V7 == "200")]
table(my_ext(dt$V6))
plot(count(access_log,"V6"))
plot(count(table(my_ext(dt$V6))))
table(my_ext(dt$V6))
plot(table(my_ext(dt$V6))
plot(table(my_ext(dt$V6)))
plot(table(my_ext(dt$V6)))
plot(table(my_path(dt$V6)))
plot(table(my_ext(dt$V6)))
dt = data.table(access_log)
dt = dt[which(V7 == "304")]
plot(table(my_ext(dt$V6)))
dt = data.table(access_log)
dt = dt[which(V7 == "304")]
plot(table(my_ext(dt$V6)))
dt = data.table(access_log)
dt = dt[which(V7 == "200")]
plot(table(my_ext(dt$V6)))
url = "http://repo.uway.com/~aired/log/1117_mod100"
access_log<-read.csv(url,sep=" " , header=F)
dt = data.table(access_log)
dt = dt[which(V7 == "200")]
plot(table(my_ext(dt$V6)))
url = "http://repo.uway.com/~aired/log/1120_mod100"
access_log<-read.csv(url,sep=" " , header=F)
dt = data.table(access_log)
dt = dt[which(V7 == "200")]
plot(table(my_ext(dt$V6)))
plot(count(access_log,"V6"))
plot(count(access_log,"V7"))
count(access_log,"V7")
source('D:/data/project/r/uway/강남대분석/mod_expire_비교결과.R', echo=TRUE)
stop('...........')
url = "http://repo.uway.com/~aired/log/1117_mod100"
access_log<-read.csv(url,sep=" " , header=F)
count(access_log,"V7")
url = "http://repo.uway.com/~aired/log/1120_mod100"
access_log<-read.csv(url,sep=" " , header=F)
count(access_log,"V7")
plot(count(access_log,"V7"))
pie(count(access_log,"V7"))
table(count(access_log,"V7"))
table(access_log[,6])
table(access_log[,7])
pie(table(access_log[,7]))
url = "http://repo.uway.com/~aired/log/1117_mod100"
access_log1<-read.csv(url,sep=" " , header=F)
count(access_log1,"V7")
url = "http://repo.uway.com/~aired/log/1120_mod100"
access_log2<-read.csv(url,sep=" " , header=F)
pie(table(access_log1[,7]))
pie(table(access_log2[,7]))
pie(table(access_log1[,7]))
pie(table(access_log2[,7]))
pdf("myout.pdf")
pie(table(access_log1[,7]))
pie(table(access_log2[,7]))
dev.off()
access_log<-read.csv(url,sep=" " , header=F)
View(access_log)
View(access_log)
url = "http://repo.uway.com/~aired/log/admission.kangnam.ac.kr-115-error_log_log_20131117"
access_log<-read.csv(url,sep=" " , header=F)
View(access_log)
View(access_log)
table(access_log[,13])
dt = data.table(table(access_log[,13]))
dt
dt = data.table(access_log[,13])
dt
dt = count(dt, "V1")
dt
setkey(dt, freq)
dt
dt = data.table(access_log[,13])
dt = count(dt, "V1")
setkey(dt, freq)
dt
dt = data.table(access_log[,13])
dt = count(dt, "V1")
dt
setkey(dt, freq)
dt = data.table(count(access_log, "V13"))
setkey(dt, freq)
dt
View(access_log)
View(access_log)
dt = data.table(count(access_log, c("V13", "V15"))
setkey(dt, freq)
dt = data.table(count(access_log, c("V13", "V15"))
dt = data.table(count(access_log, c("V13", "V15")))
dt = data.table(count(access_log, c("V13", "V15")))
setkey(dt, freq)
dt
dt = data.table(count(access_log, c("V15")))
setkey(dt, freq)
dt
dt = data.table(count(access_log, c("V13")))
setkey(dt, freq)
dt
View(access_log)
View(access_log)
dt = data.table(count(access_log, c("V9")))
setkey(dt, freq)
dt
dt = data.table(count(access_log, c("V9")))
setkey(dt, freq)
dt
dt = data.table(count(access_log, c("V13")))
setkey(dt, freq)
dt
dt = data.table(count(access_log, c("V9")))
setkey(dt, freq)
dt
dt = data.table(access_log)
dt = dt[which(V9 == "script")]
dt
data<-read.csv("http://repo.uway.com/~aired/access.log",sep=" " , header=F)
n =10000
sample.code = data[1:n,]$V7
sample.size  = as.integer(paste(data[1:n,]$V8))
dt = data.table(sample.code, s = sample.size)
colnames(dt)
#dt = dt[which(sample.code == 200)]
plot(dt[,s])
url = "http://repo.uway.com/~aired/log/admission.kangnam.ac.kr-115-error_log_log_20131101"
access_log<-read.csv(url,sep=" " , header=F)
View(access_log)
View(access_log)
table(access_log[,9])
url = "http://repo.uway.com/~aired/log/error_20131101.log"
access_log<-read.csv(url,sep=" " , header=F)
View(access_log)
View(access_log)
View(access_log)
table(access_log[1:20,9])
access_log[1:20,9]
access_log<-read.csv(url,sep=":" , header=F)
View(access_log)
View(access_log)
data.table(access_log$V1, access_log$V4 )
dt = data.table(access_log$V1, access_log$V4 )
View(dt)
View(dt)
View(access_log)
View(access_log)
View(dt)
View(dt)
View(dt)
View(dt)
count(dt, c("V1", "V2"))
count(dt, "V1")
dt = count(dt, "V1")
setkey(dt, freq)
dt = data.table(access_log$V1, access_log$V4 )
dt = count(dt, "V1")
dt
setkey(dt, freq)
dt = data.table(access_log$V1, access_log$V4 )
dt = data.table(count(dt, "V1"))
setkey(dt, freq)
dt
dt[which(V4 == "[Fri Nov 01 15")]
dt = data.table(access_log$V1, access_log$V4 )
dt[which(V4 == "[Fri Nov 01 15")]
dt
dt[which(V2 == "[Fri Nov 01 15")]
dt[which(V2 %like% "[Fri Nov 01 15")]
dt[which(V2 %like "[Fri Nov 01 15")]
dt[which(V2 grep "[Fri Nov 01 15")]
dt[like(d, "[Fri Nov 01 15")]
dt = data.table(d = access_log$V1, msg = access_log$V4 )
dt[like(d, "[Fri Nov 01 15")]
dt = data.table(d = access_log$V1, msg = access_log$V4 )
dt[d  %like% "[Fri Nov 01 15")]
dt[d  %like% "[Fri Nov 01 15"]
dt[d  %like% "Fri Nov 01 15"]
dt = data.table(d = access_log$V1, msg = access_log$V4 )
dt[d  %like% "win32"]
dt - data.table(access_log)
dt = data.table(access_log)
dt[V1  %like% "Fri Nov 01 15"]
dt = data.table(access_log)
dt = dt[V1  %like% "Fri Nov 01 15"]
dt
dt = data.table(access_log)
dt = dt[V1  %like% "win32"]
dt
dt = data.table(access_log$V1, access_log$V4 )
dt = data.table(count(dt, "V1"))
setkey(dt, freq)
dt
dt = data.table(access_log)
dt = dt[V1  %like% "Fri Nov 01 15"]
dt
dt = data.table(access_log)
dt = dt[V1  %like% "Fri Nov 01 15"]
dt
dt = data.table(access_log$V1, access_log$V4 )
dt = data.table(count(dt, "V1"))
setkey(dt, freq)
dt
dt = data.table(access_log$V1, access_log$V4 )
dt = data.table(count(dt, "V1"))
dt = dt[V1  %like% "Fri Nov 01 15"]
setkey(dt, freq)
dt
dt = data.table(access_log$V1, access_log$V4 )
dt = data.table(count(dt, "V1"))
dt
dt = data.table(access_log$V1, access_log$V4 )
dt = dt[V1  %like% "Fri Nov 01 15"]
dt
dt = data.table(access_log)
dt = dt[V1  %like% "Fri Nov 01 "]
dt
dt = data.table(access_log)
dt = dt[V1  %like% "Fri Nov 01 "]
dt
dt = dt[V1  %like% "Fri Nov 01 " & V4 %like% winnt_accept]
dt = dt[V1  %like% "Fri Nov 01 " & V4 %like% "winnt_accept"]
dt
count(dt, "V1")
dt = data.table(access_log)
dt = dt[ V4 %like% "winnt_accept"]
dt
count(dt, "V1")
url = "http://repo.uway.com/~aired/log/1117_mod100"
access_log1<-read.csv(url,sep=" " , header=F)
count(access_log1,"V7")
data<-read.csv("http://repo.uway.com/~aired/access.log",sep=" " , header=F)
######## SIZE plot 그래프 (200인경우만 ##################
n =10000
sample.code = data[1:n,]$V7
sample.size  = as.integer(paste(data[1:n,]$V8))
dt = data.table(sample.code, s = sample.size)
colnames(dt)
plot(dt[,s])
summary(dt)
dt[V8 == "8974336"]
dt = data.table(data)
dt[V8 == "8974336"]
